<!DOCTYPE html>
<!-- saved from url=(0048)https://www.cnblogs.com/jicanghai/p/9547635.html -->
<html lang="zh-cn" style="--olcb-folder-code-block-max-height:80vh;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="origin-when-cross-origin">
    <meta name="description" content="目录 1. 什么是设备 2. 设备属性描述 3. device_base 4. 关系图 5. 涉及的文件 6. 迭代记录 1. 什么是设备 “设备”是一个很容易引起混淆的概念，在TF中，设备devic">
    <meta property="og:description" content="目录 1. 什么是设备 2. 设备属性描述 3. device_base 4. 关系图 5. 涉及的文件 6. 迭代记录 1. 什么是设备 “设备”是一个很容易引起混淆的概念，在TF中，设备devic">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>tensorflow源码解析之framework-device - jicanghai - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="https://common.cnblogs.com/favicon.svg" type="image/svg+xml">
    
    <style>#home :not(.cnblogs_code):not(.cnblogs_Highlighter)>pre:not([highlighted]):not([class*="brush:"]) code:not(.hljs), :not(.cnblogs_code):not(.cnblogs_Highlighter)>pre:not([highlighted]):not([class*="brush:"]) code:not(.hljs) {background: rgb(245, 245, 245);
        padding: 12px;
        border: 1px solid rgb(204, 204, 204);
        border-radius: 3px;
        border-color: transparent;
        color: rgb(68, 68, 68);
        font-family: "Courier New", sans-serif;
        font-size: 12px</style><link rel="stylesheet" href="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/blog-common.min.css">
    

    <link id="MainCss" rel="stylesheet" href="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/bundle-cleargertrude.min.css">
        <link id="highlighter-theme-cnblogs" type="text/css" rel="stylesheet" href="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/cnblogs.css">
    
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/bundle-cleargertrude-mobile.min.css">
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/jicanghai/rss">
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/jicanghai/rsd.xml">
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/jicanghai/wlwmanifest.xml">
    <script type="text/javascript" async="" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/analytics.js"></script><script>
        var currentBlogId = 254005;
        var currentBlogApp = 'jicanghai';
        var isLogined = false;
        var isBlogOwner = false;
        var skinName = 'ClearGertrude';
        var visitorUserId = '';
        var hasCustomScript = false;
        try {
            if (hasCustomScript && document.referrer && document.referrer.indexOf('baidu.com') >= 0) {
                Object.defineProperty(document, 'referrer', { value: '' });
                Object.defineProperty(Document.prototype, 'referrer', { get: function(){ return ''; } });
            }
        } catch(error) { }
        window.cb_enable_mathjax = false;
        window.mathEngine = 0;
        window.codeHighlightEngine = 1;
        window.enableCodeLineNumber = false;
        window.codeHighlightTheme = 'cnblogs';
        window.darkModeCodeHighlightTheme = 'vs2015';
        window.isDarkCodeHighlightTheme = false;
        window.isDarkModeCodeHighlightThemeDark = true;
        window.isDisableCodeHighlighter = false;
        window.enableCodeThemeTypeFollowSystem = false;
    </script>
        <script>
            var currentPostDateAdded = '2018-08-28 13:13';
        </script>
    <script src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/jquery-2.2.0.min.js"></script>
    <script src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/blog-common.min.js"></script><style>.medium-zoom-overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  opacity: 0;
  transition: opacity 300ms;
  will-change: opacity;
}

.medium-zoom--opened .medium-zoom-overlay {
  cursor: pointer;
  cursor: zoom-out;
  opacity: 1;
}

.medium-zoom-image {
  cursor: pointer;
  cursor: zoom-in;
  /*
    The `transition` is marked as "!important" for the animation to happen
    even though it's overriden by another inline `transition` style attribute.

    This is problematic with frameworks that generate inline styles on their
    images (e.g. Gatsby).

    See https://github.com/francoischalifour/medium-zoom/issues/110
   */
  transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1) !important;
}

.medium-zoom-image--hidden {
  visibility: hidden;
}

.medium-zoom-image--opened {
  position: relative;
  cursor: pointer;
  cursor: zoom-out;
  will-change: transform;
}
</style><script id="hljs-script" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/highlight.min.js" type="text/javascript" defer=""></script>
    

    
<meta http-equiv="origin-trial" content="Az6AfRvI8mo7yiW5fLfj04W21t0ig6aMsGYpIqMTaX60H+b0DkO1uDr+7BrzMcimWzv/X7SXR8jI+uvbV0IJlwYAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A+USTya+tNvDPaxUgJooz+LaVk5hPoAxpLvSxjogX4Mk8awCTQ9iop6zJ9d5ldgU7WmHqBlnQB41LHHRFxoaBwoAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A7FovoGr67TUBYbnY+Z0IKoJbbmRmB8fCyirUGHavNDtD91CiGyHHSA2hDG9r9T3NjUKFi6egL3RbgTwhhcVDwUAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjgwNjUyNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><script src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/pubads_impl_2023012601.js" async=""></script><link rel="preload" href="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/f.txt" as="script"><script type="text/javascript" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/f.txt"></script><link rel="preload" href="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/f(1).txt" as="script"><script type="text/javascript" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/f(1).txt"></script></head>
<body class="skin-cleargertrude has-navbar hljs-engine">
<a name="top"></a>
<div id="top_nav" class="navbar forpc">
    <nav id="nav_main" class="navbar-main">
        <ul id="nav_left" class="navbar-list navbar-left">
            <li class="navbar-branding">
                <a href="https://www.cnblogs.com/" title="开发者的网上家园" role="banner">
                    <img src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/logo.svg" alt="博客园Logo">
                </a>
            </li>
            <li>
                <a href="https://www.cnblogs.com/" onclick="countClicks(&#39;skin-navbar-sitehome&#39;)">首页</a>
            </li>
            <li>
                <a href="https://news.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-news&#39;)">新闻</a>
            </li>
            <li>
                <a href="https://q.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-q&#39;)">博问</a>
            </li>
            <li>
                <a id="nav_brandzone" href="https://brands.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-brands&#39;)">专区</a>
            </li>
            <li>
                <a href="https://ing.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-ing&#39;)">闪存</a>
            </li>
            <li>
                <a href="https://edu.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-edu&#39;)">班级</a>
            </li>
        </ul>
        <ul id="nav_right" class="navbar-list navbar-right">
            <li>
                <form id="zzk_search" class="navbar-search" action="https://zzk.cnblogs.com/s" method="get" role="search">
                    <input name="w" id="zzk_search_input" placeholder="代码改变世界" type="search" tabindex="3">
                    <button type="submit" id="zzk_search_button">
                        <img src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/search.svg" alt="搜索">
                    </button>
                </form>
            </li>
            <li id="navbar_login_status" class="navbar-list">
                <a class="navbar-user-info navbar-blog" href="https://i.cnblogs.com/EditPosts.aspx?opt=1" alt="写随笔" title="写随笔" style="display: none;">
                    <img id="new_post_icon" class="navbar-icon" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/newpost.svg" alt="写随笔">
                </a>
                <a id="navblog-myblog-icon" class="navbar-user-info navbar-blog" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx" alt="我的博客" title="我的博客" style="display: none;">
                    <img id="myblog_icon" class="navbar-icon" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/myblog.svg" alt="我的博客">
                </a>
                <a class="navbar-user-info navbar-message navbar-icon-wrapper" href="https://msg.cnblogs.com/" alt="短消息" title="短消息" style="display: none;">
                    <img id="msg_icon" class="navbar-icon" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/message.svg" alt="短消息">
                    <span id="msg_count" style="display: none"></span>
                </a>
                <a id="navbar_lite_mode_indicator" data-current-page="blog" style="display: none" href="javascript:void(0)" alt="简洁模式" title="简洁模式启用，您在访问他人博客时会使用简洁款皮肤展示">
                    <img class="navbar-icon" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/lite-mode-on.svg" alt="简洁模式">
                </a>
                <div id="user_info" class="navbar-user-info dropdown" style="display: none;">
                    <a class="dropdown-button" href="https://home.cnblogs.com/">
                        <img id="user_icon" class="navbar-avatar" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/avatar-default.svg" alt="用户头像">
                    </a>
                    <div class="dropdown-menu">
                        <a id="navblog-myblog-text" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx">我的博客</a>
                        <a href="https://home.cnblogs.com/">我的园子</a>
                        <a href="https://account.cnblogs.com/settings/account">账号设置</a>
                        <a href="javascript:void(0)" id="navbar_lite_mode_toggle" title="简洁模式会使用简洁款皮肤显示所有博客">
    简洁模式 <img id="navbar_lite_mode_on" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/lite-mode-check.svg" class="hide"><span id="navbar_lite_mode_spinner" class="hide">...</span>
</a>
                        <a href="javascript:void(0)" onclick="account.logout();">退出登录</a>
                    </div>
                </div>
                <a class="navbar-anonymous" href="https://account.cnblogs.com/signup" style="display: inline;">注册</a>
                <a class="navbar-anonymous" href="javascript:void(0);" onclick="account.login()" style="display: inline;">登录</a>
            </li>
        </ul>
    </nav>
</div>



<div id="header">
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/jicanghai/">jicanghai</a>
</h1>
<p id="tagline"></p>

</div>
<div id="main">
	<div id="post_detail">
	<div class="post">
		<h2>
			
<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jicanghai/p/9547635.html">
    <span role="heading" aria-level="2">tensorflow源码解析之framework-device</span>
    
</a><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button>

		</h2>
		<div class="postText"><div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="目录">目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>什么是设备</li>
<li>设备属性描述</li>
<li>device_base</li>
<li>关系图</li>
<li>涉及的文件</li>
<li>迭代记录</li>
</ol>
<h1 id="1-什么是设备">1. 什么是设备<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>“设备”是一个很容易引起混淆的概念，在TF中，设备device专指能够执行实际计算的计算设备，比如CPU，GPU，SYNC设备等等。因此，一定要跟机器的概念区分开，一台机器可以包含多个设备。</p>
<h1 id="2-设备属性描述">2. 设备属性描述<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对设备有了一个清晰的概念之后，我们看下TF为了描述设备属性准备的proto，DeviceAttributes：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java">message DeviceAttributes {
    <span class="hljs-type">string</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
    <span class="hljs-type">string</span> <span class="hljs-variable">device_type</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<span class="hljs-comment">//设备类型</span>
    <span class="hljs-type">int64</span> <span class="hljs-variable">memory_limit</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;<span class="hljs-comment">//内存大小</span>
    <span class="hljs-type">DeviceLocality</span> <span class="hljs-variable">locality</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<span class="hljs-comment">//平台相关的，为支持数据有效传输而准备的数据</span>
    <span class="hljs-type">fixed64</span> <span class="hljs-variable">incarnation</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>;<span class="hljs-comment">//每个设备在初始化后会被赋予一个全局唯一的编号，这个编号必须不能为0</span>
    <span class="hljs-type">string</span> <span class="hljs-variable">physical_device_desc</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;<span class="hljs-comment">//该设备所对应的物理设备的字符串描述</span>
};
</code></pre>
<p>关于其中locality字段的详细含义，笔者还没找到具体的应用，有知道的读者还请告知。</p>
<h1 id="3-device_base">3. device_base<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>DeviceAttributes只是对设备属性的一些简单描述，真正的设备基类是DeviceBase，我们来看一下它的结构：</p>
<pre class="highlighter-hljs" highlighted="true" has-selection="true"><code class="highlighter-hljs hljs language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DeviceBase</span> {
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">DeviceBase</span><span class="hljs-params">(Env* env)</span> : env_(env){</span>}
    <span class="hljs-comment">//...</span>
  <span class="hljs-keyword">private</span>:
    Env* <span class="hljs-type">const</span> env_;
    CpuWorkerThreads* cpu_worker_threads_ = <span class="hljs-literal">nullptr</span>;
    GpuDeviceInfo* gpu_device_info_ = <span class="hljs-literal">nullptr</span>;
    Eigen::ThreadPoolDevice* eigen_cpu_device_ = <span class="hljs-literal">nullptr</span>;
};
</code></pre>
<p>我们看到，DeviceBase构造函数的参数是Env指针，这里的Env在lib文件夹中定义，是对操作系统相关功能的统一封装，包括了文件系统等功能，使framework的实现尽量对操作系统层透明。<br>
另外，DeviceBase的私有成员中，还出现了两个没见过的类，分别是CpuWorkerThreads和GpuDeviceInfo，我们分别看下它们的定义：</p>
<pre class="highlighter-hljs" highlighted="true" has-selection="true"><code class="highlighter-hljs hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CpuWorkerThreads</span> {
    <span class="hljs-type">int</span> num_threads = <span class="hljs-number">0</span>;
    thread::ThreadPool* workers = <span class="hljs-literal">nullptr</span>;
}
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">GpuDeviceInfo</span> {
    perftools::gputools::Stream* stream = <span class="hljs-literal">nullptr</span>;
    DeviceContext* default_context = <span class="hljs-literal">nullptr</span>;
    EventMgr* event_mgr = <span class="hljs-literal">nullptr</span>;
    <span class="hljs-type">int</span> gpu_id = <span class="hljs-number">-1</span>;
};
</code></pre>
<p>可以看出，前者是一个对线程池的简单封装，后者用于描述GPU相关的信息，其中的stream是流执行器，我们在后面会详细介绍。EventMgr是一个事件管理器，用于响应特殊的事件。那么DeviceContext是什么呢？</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DeviceContext</span> : <span class="hljs-keyword">public</span> core::RefCounted {
  <span class="hljs-keyword">public</span>:
    <span class="hljs-comment">//...</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">CopyCPUTensorToDevice</span><span class="hljs-params">(<span class="hljs-type">const</span> Tensor* cpu_tensor, Device* device, Tensor* device_tensor, StatusCallback done)</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">CopyDeviceTensorToCPU</span><span class="hljs-params">(<span class="hljs-type">const</span> Tensor* device_tensor, StringPiece tensor_name, Device* device, Tensor* cpu_tensor, StatusCallback done)</span></span>;
};
</code></pre>
<p>它是一个基于引用计数的类，主要的API包含CPU和设备之间的张量拷贝。也就是说，任何一个GPU设备都包含了CPU张量与设备张量之间相互拷贝的API接口。</p>
<p>到这里我们总结一下，DeviceBase针对CPU设备，包含了一个CPU的线程池，和一个eigen_cpu_device，而对于GPU设备，包含了一个GpuDeviceInfo，这个结构中除了包含GPU执行器、事件响应器之外，还包含了一个DeviceContext，这个结构中包含了CPU和GPU之间相互拷贝张量的API。</p>
<h1 id="4-关系图">4. 关系图<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<div class="mermaid" data-processed="true"><svg id="mermaid-1675332798830" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="361.1875" style="max-width: 913.3828125px;" viewBox="0 0 913.3828125 361.1875"><style>#mermaid-1675332798830 {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1675332798830 .error-icon{fill:#552222;}#mermaid-1675332798830 .error-text{fill:#552222;stroke:#552222;}#mermaid-1675332798830 .edge-thickness-normal{stroke-width:2px;}#mermaid-1675332798830 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1675332798830 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1675332798830 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1675332798830 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1675332798830 .marker{fill:#333333;stroke:#333333;}#mermaid-1675332798830 .marker.cross{stroke:#333333;}#mermaid-1675332798830 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1675332798830 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1675332798830 .cluster-label text{fill:#333;}#mermaid-1675332798830 .cluster-label span{color:#333;}#mermaid-1675332798830 .label text,#mermaid-1675332798830 span{fill:#333;color:#333;}#mermaid-1675332798830 .node rect,#mermaid-1675332798830 .node circle,#mermaid-1675332798830 .node ellipse,#mermaid-1675332798830 .node polygon,#mermaid-1675332798830 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1675332798830 .node .label{text-align:center;}#mermaid-1675332798830 .node.clickable{cursor:pointer;}#mermaid-1675332798830 .arrowheadPath{fill:#333333;}#mermaid-1675332798830 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1675332798830 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1675332798830 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1675332798830 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1675332798830 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1675332798830 .cluster text{fill:#333;}#mermaid-1675332798830 .cluster span{color:#333;}#mermaid-1675332798830 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1675332798830 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-DeviceBase LE-CpuWorkerThreads" style="opacity: 1;" id="L-DeviceBase-CpuWorkerThreads"><path class="path" d="M80.62882532025937,106.796875L92.06568776688282,94.39713541666667C103.50255021350624,81.99739583333333,126.37627510675311,57.197916666666664,148.28058547004323,44.798177083333336C170.18489583333334,32.3984375,191.11979166666666,32.3984375,201.58723958333334,32.3984375L212.0546875,32.3984375" marker-end="url(#arrowhead30)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead30" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-CpuWorkerThreads LE-thread::ThreadPool" style="opacity: 1;" id="L-CpuWorkerThreads-thread::ThreadPool"><path class="path" d="M366.7734375,32.3984375L377.2408854166667,32.3984375C387.7083333333333,32.3984375,408.6432291666667,32.3984375,425.9440104166667,32.3984375C443.2447916666667,32.3984375,456.9114583333333,32.3984375,463.7447916666667,32.3984375L470.578125,32.3984375" marker-end="url(#arrowhead31)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead31" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-DeviceBase LE-GpuDeviceInfo" style="opacity: 1;" id="L-DeviceBase-GpuDeviceInfo"><path class="path" d="M108.25,131.1953125L115.08333333333333,131.1953125C121.91666666666667,131.1953125,135.58333333333334,131.1953125,155.46419270833334,131.1953125C175.34505208333334,131.1953125,201.44010416666666,131.1953125,214.48763020833334,131.1953125L227.53515625,131.1953125" marker-end="url(#arrowhead32)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead32" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-GpuDeviceInfo LE-DeviceContext" style="opacity: 1;" id="L-GpuDeviceInfo-DeviceContext"><path class="path" d="M351.29296875,131.1953125L364.3404947916667,131.1953125C377.3880208333333,131.1953125,403.4830729166667,131.1953125,426.7139902810177,135.36197916666666C449.9449076453688,139.52864583333334,470.31169029073754,147.86197916666666,480.4950816134219,152.02864583333334L490.6784729361063,156.1953125" marker-end="url(#arrowhead33)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead33" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-core::RefCounted LE-DeviceContext" style="opacity: 1;" id="L-core::RefCounted-DeviceContext"><path class="path" d="M362.48046875,229.9921875L373.6634114583333,229.9921875C384.8463541666667,229.9921875,407.2122395833333,229.9921875,428.578573614351,225.82552083333334C449.9449076453688,221.65885416666666,470.31169029073754,213.32552083333334,480.4950816134219,209.15885416666666L490.6784729361063,204.9921875" marker-end="url(#arrowhead34)" style="fill:none"></path><defs><marker id="arrowhead34" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-DeviceBase LE-Eigen::ThreadPoolDevice" style="opacity: 1;" id="L-DeviceBase-Eigen::ThreadPoolDevice"><path class="path" d="M69.37691266012969,155.59375L82.6890938834414,184.45963541666666C96.00127510675311,213.32552083333334,122.62563755337656,271.0572916666667,142.77115211002163,299.9231770833333C162.91666666666666,328.7890625,176.58333333333334,328.7890625,183.41666666666666,328.7890625L190.25,328.7890625" marker-end="url(#arrowhead35)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead35" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-DeviceContext LE-CopyCPUTensorToDevice" style="opacity: 1;" id="L-DeviceContext-CopyCPUTensorToDevice"><path class="path" d="M609.9387145638938,156.1953125L620.1221058865782,152.02864583333334C630.3054972092625,147.86197916666666,650.6722798546313,139.52864583333334,667.6890045106489,135.36197916666666C684.7057291666666,131.1953125,698.3723958333334,131.1953125,705.2057291666666,131.1953125L712.0390625,131.1953125" marker-end="url(#arrowhead36)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead36" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-DeviceContext LE-CopyDeviceTensorToCPU" style="opacity: 1;" id="L-DeviceContext-CopyDeviceTensorToCPU"><path class="path" d="M609.9387145638938,204.9921875L620.1221058865782,209.15885416666666C630.3054972092625,213.32552083333334,650.6722798546313,221.65885416666666,667.6890045106489,225.82552083333334C684.7057291666666,229.9921875,698.3723958333334,229.9921875,705.2057291666666,229.9921875L712.0390625,229.9921875" marker-end="url(#arrowhead37)" style="fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead37" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" style="opacity: 1;" transform="translate(149.25,32.3984375)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DeviceBase-CpuWorkerThreads" class="edgeLabel L-LS-DeviceBase&#39; L-LE-CpuWorkerThreads">包含</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(429.578125,32.3984375)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-CpuWorkerThreads-thread::ThreadPool" class="edgeLabel L-LS-CpuWorkerThreads&#39; L-LE-thread::ThreadPool">包含</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(149.25,131.1953125)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DeviceBase-GpuDeviceInfo" class="edgeLabel L-LS-DeviceBase&#39; L-LE-GpuDeviceInfo">包含</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(429.578125,131.1953125)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-GpuDeviceInfo-DeviceContext" class="edgeLabel L-LS-GpuDeviceInfo&#39; L-LE-DeviceContext">包含</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(429.578125,229.9921875)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-core::RefCounted-DeviceContext" class="edgeLabel L-LS-core::RefCounted&#39; L-LE-DeviceContext">派生</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(149.25,328.7890625)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DeviceBase-Eigen::ThreadPoolDevice" class="edgeLabel L-LS-DeviceBase&#39; L-LE-Eigen::ThreadPoolDevice">包含</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(671.0390625,131.1953125)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DeviceContext-CopyCPUTensorToDevice" class="edgeLabel L-LS-DeviceContext&#39; L-LE-CopyCPUTensorToDevice">包含</span></div></foreignobject></g></g><g class="edgeLabel" style="opacity: 1;" transform="translate(671.0390625,229.9921875)"><g transform="translate(-16,-14.3984375)" class="label"><rect rx="0" ry="0" width="32" height="28.796875"></rect><foreignobject width="32" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DeviceContext-CopyDeviceTensorToCPU" class="edgeLabel L-LS-DeviceContext&#39; L-LE-CopyDeviceTensorToCPU">包含</span></div></foreignobject></g></g></g><g class="nodes"><g class="node default" style="opacity: 1;" id="flowchart-DeviceBase-16" transform="translate(58.125,131.1953125)"><rect rx="0" ry="0" x="-50.125" y="-24.3984375" width="100.25" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.125,-14.3984375)"><foreignobject width="80.25" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">DeviceBase</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-CpuWorkerThreads-17" transform="translate(289.4140625,32.3984375)"><rect rx="0" ry="0" x="-77.359375" y="-24.3984375" width="154.71875" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-67.359375,-14.3984375)"><foreignobject width="134.71875" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">CpuWorkerThreads</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-thread::ThreadPool-19" transform="translate(550.30859375,32.3984375)"><rect rx="0" ry="0" x="-79.73046875" y="-24.3984375" width="159.4609375" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-69.73046875,-14.3984375)"><foreignobject width="139.4609375" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">thread::ThreadPool</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-GpuDeviceInfo-21" transform="translate(289.4140625,131.1953125)"><rect rx="0" ry="0" x="-61.87890625" y="-24.3984375" width="123.7578125" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-51.87890625,-14.3984375)"><foreignobject width="103.7578125" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">GpuDeviceInfo</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-DeviceContext-23" transform="translate(550.30859375,180.59375)"><rect rx="0" ry="0" x="-61.95703125" y="-24.3984375" width="123.9140625" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-51.95703125,-14.3984375)"><foreignobject width="103.9140625" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">DeviceContext</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-core::RefCounted-24" transform="translate(289.4140625,229.9921875)"><rect rx="0" ry="0" x="-73.06640625" y="-24.3984375" width="146.1328125" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-63.06640625,-14.3984375)"><foreignobject width="126.1328125" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">core::RefCounted</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-Eigen::ThreadPoolDevice-27" transform="translate(289.4140625,328.7890625)"><rect rx="0" ry="0" x="-99.1640625" y="-24.3984375" width="198.328125" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-89.1640625,-14.3984375)"><foreignobject width="178.328125" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Eigen::ThreadPoolDevice</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-CopyCPUTensorToDevice-29" transform="translate(808.7109375,131.1953125)"><rect rx="0" ry="0" x="-96.671875" y="-24.3984375" width="193.34375" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-86.671875,-14.3984375)"><foreignobject width="173.34375" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">CopyCPUTensorToDevice</div></foreignobject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-CopyDeviceTensorToCPU-31" transform="translate(808.7109375,229.9921875)"><rect rx="0" ry="0" x="-96.671875" y="-24.3984375" width="193.34375" height="48.796875" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-86.671875,-14.3984375)"><foreignobject width="173.34375" height="28.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">CopyDeviceTensorToCPU</div></foreignobject></g></g></g></g></g></g></svg></div><h1 id="5-涉及的文件">5. 涉及的文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ul>
<li>device_attributes</li>
<li>device_base</li>
</ul>
<h1 id="6-迭代记录">6. 迭代记录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ul>
<li>v1.0 2018-08-28 文档创建</li>
<li>v2.0 2018-09-09 文档重构</li>
</ul>
<p><a href="https://github.com/tengkz/tensorflow_notes" target="_blank" rel="noopener">github地址</a></p>

</div>
<div class="clear"></div>
<div id="blog_post_info_block" role="contentinfo">
<div id="EntryTag">
    标签: 
            <a href="https://www.cnblogs.com/jicanghai/tag/tensorflow/">tensorflow</a></div>

    <div id="blog_post_info">
<div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(9547635,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
        <a id="green_channel_follow" onclick="follow(&#39;b58ddae4-ce89-e511-9fc1-ac853d9f53cc&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/jicanghai/" target="_blank"><img src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/sample_face.gif" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/jicanghai/">jicanghai</a><br>
            <a href="https://home.cnblogs.com/u/jicanghai/followers/">粉丝 - <span class="follower-count">25</span></a>
            <a href="https://home.cnblogs.com/u/jicanghai/followees/">关注 - <span class="following-count">2</span></a><br>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow" class="follow-tip">
                <a href="javascript:void(0);" onclick="follow(&#39;b58ddae4-ce89-e511-9fc1-ac853d9f53cc&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(9547635,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(9547635,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>

<script type="text/javascript">
    currentDiggType = 0;
</script></div>
    <div class="clear"></div>
    <div id="post_next_prev">

    <a href="https://www.cnblogs.com/jicanghai/p/9546145.html" class="p_n_p_prefix">« </a> 上一篇：    <a href="https://www.cnblogs.com/jicanghai/p/9546145.html" data-featured-image="" title="发布于 2018-08-28 09:32">tensorflow源码解析之framework-graph</a>
    <br>
    <a href="https://www.cnblogs.com/jicanghai/p/9551776.html" class="p_n_p_prefix">» </a> 下一篇：    <a href="https://www.cnblogs.com/jicanghai/p/9551776.html" data-featured-image="" title="发布于 2018-08-28 23:57">tensorflow源码解析之framework-function</a>

</div>
</div></div>
		<p class="postfoot">
			posted on 
<span id="post-date">2018-08-28 13:13</span>&nbsp;
<a href="https://www.cnblogs.com/jicanghai/">jicanghai</a>&nbsp;
阅读(<span id="post_view_count">1373</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=9547635" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(9547635);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: &#39;&#39;, targetType: &#39;blogPost&#39;, targetId: &#39;9547635&#39;, targetLink: &#39;https://www.cnblogs.com/jicanghai/p/9547635.html&#39;, title: &#39;tensorflow源码解析之framework-device&#39; })">举报</a>
		</p>
	</div>
	
	
	

<script>
    var cb_entryId = 9547635, cb_entryCreatedDate = '2018-08-28 13:13', cb_postType = 1, cb_postTitle = 'tensorflow源码解析之framework-device';
    var allowComments = true, cb_blogId = 254005, cb_blogApp = 'jicanghai', cb_blogUserGuid = 'b58ddae4-ce89-e511-9fc1-ac853d9f53cc';
    mermaidRender.render()
    markdown_highlight()
    zoomManager.apply("#cnblogs_post_body img:not(.code_img_closed):not(.code_img_opened)");
    updatePostStats(
            [cb_entryId],
            function(id, count) { $("#post_view_count").text(count) },
            function(id, count) { $("#post_comment_count").text(count) })
</script>
<a id="!comments"></a>
<div id="blog-comments-placeholder"></div>
<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/jicanghai/p/9547635.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/jicanghai/p/9547635.html#top">返回顶部</a></div>
    <div id="comment_form_container" style="visibility: visible;"><div class="login_tips">
    登录后才能查看或发表评论，立即 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return account.login(&#39;!comments&#39;);">登录</a> 或者
    <a href="https://www.cnblogs.com/">逛逛</a> 博客园首页
</div>
</div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
        <div id="cnblogs_ch"></div>
    <div id="opt_under_post"></div>
    <div id="cnblogs_c1" class="under-post-card" style="display: none;">
            <div id="div-gpt-ad-1592365906576-0" style="width: 300px; height: 250px;"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none; width: 300px; height: 0px;"></div></div>
    </div>
    <div id="under_post_card1"><div class="under-post-card">
<b>编辑推荐：</b>
<br>

· <a href="https://www.cnblogs.com/s0611163/p/17076494.html" target="_blank">通过一个示例形象地理解 C# async await 异步 </a>
    <br>
· <a href="https://www.cnblogs.com/whuanle/p/17069128.html" target="_blank">从 C# 入门 Kafka</a>
    <br>
· <a href="https://www.cnblogs.com/huangxincheng/p/17072024.html" target="_blank">C# 托管堆 遭破坏 问题溯源分析</a>
    <br>
· <a href="https://www.cnblogs.com/qdhxhz/p/16944971.html" target="_blank">order by 语句怎么优化？ </a>
    <br>
· <a href="https://www.cnblogs.com/huangxincheng/p/17069686.html" target="_blank">SQLSERVER 事务日志的 LSN 到底是什么？</a>
    <br>
</div></div>
    <div id="under_post_card2"><div class="itnews under-post-card">
    <b>阅读排行：</b>
    <br>
 ·          <a href="https://www.cnblogs.com/anding/p/16987769.html" target="_blank">Git入门图文教程(1.5W字40图)🔥🔥--深入浅出、图文并茂</a>
        <br>
 ·          <a href="https://www.cnblogs.com/hejiale010426/p/17083913.html" target="_blank">.NET 入门到高级路线</a>
        <br>
 ·          <a href="https://www.cnblogs.com/xueweihan/p/17081365.html" target="_blank">让人眼前一亮的应用「GitHub 热点速览」</a>
        <br>
 ·          <a href="https://www.cnblogs.com/antake/p/17081592.html" target="_blank">Windows下使用Graalvm将Springboot应用编译成exe大大提高启动和运行效率</a>
        <br>
 ·          <a href="https://www.cnblogs.com/dxflqm/p/17083389.html" target="_blank">手把手教你搞定菜单权限设计，精确到按钮级别</a>
        <br>
</div></div>
    <div id="HistoryToday" class="under-post-card"></div>
    <script type="text/javascript">
        var commentManager = new blogCommentManager();
        commentManager.renderComments(0);
        fixPostBody();
        window.footnoteTipManager.generateFootnoteTips();

            window.tocManager.displayDisableTocTips = false;
            window.tocManager.generateToc();
            
                setTimeout(function() { countViews(cb_blogId, cb_entryId); }, 50);
            
            deliverT2();
            deliverC1C2();
            loadNewsAndKb();
            
                LoadPostCategoriesTags(cb_blogId, cb_entryId);
            
            LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
            GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
            loadOptUnderPost();
            GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
                </script>
</div>

</div>


</div>
<div id="rightmenu">
	
		
<h3>导航</h3>
<ul>
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/jicanghai/">
首页</a>
</li>
<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/jicanghai">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="javascript:void(0)" data-rss="https://www.cnblogs.com/jicanghai/rss/">
订阅</a>
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/jicanghai/rss/">
    <img src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/xml.gif" alt="订阅">
</a></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div id="sidebar_news" class="newsItem"><h3>公告</h3>
<div class="newsItem">
	
<div id="blog-news">
    
    <div id="profile_block">
        昵称：
        <a href="https://home.cnblogs.com/u/jicanghai/">
            jicanghai
        </a>
        <br>
        园龄：
        <a href="https://home.cnblogs.com/u/jicanghai/" title="入园时间：2015-11-13">
            7年2个月
        </a>
        <br>
        粉丝：
        <a class="follower-count" href="https://home.cnblogs.com/u/jicanghai/followers/">
            25
        </a>
        <br>
        关注：
        <a class="folowing-count" href="https://home.cnblogs.com/u/jicanghai/followees/">
            2
        </a>
        <div id="p_b_follow" class="follow-tip">
<a href="javascript:void(0)" onclick="follow(&#39;b58ddae4-ce89-e511-9fc1-ac853d9f53cc&#39;)">+加关注</a></div>
        <script>getFollowStatus('b58ddae4-ce89-e511-9fc1-ac853d9f53cc');</script>
    </div>
</div>
</div>

</div>
<div id="sidebar_c3"></div>					
		<div id="blog-calendar" style="">

<table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar" border="0">
    <tbody>
        <tr>
            <td colspan="7">
                <table class="CalTitle" cellspacing="0" border="0">
                    <tbody>
                        <tr>
                            <td class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2023/01/02&#39;); return false;">&lt;</a>
                            </td>
                            <td align="center">2023年2月</td>
                            <td align="right" class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2023/03/02&#39;); return false;">&gt;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    <tr>
        <th class="CalDayHeader" align="center" abbr="日" scope="col">日</th>
        <th class="CalDayHeader" align="center" abbr="一" scope="col">一</th>
        <th class="CalDayHeader" align="center" abbr="二" scope="col">二</th>
        <th class="CalDayHeader" align="center" abbr="三" scope="col">三</th>
        <th class="CalDayHeader" align="center" abbr="四" scope="col">四</th>
        <th class="CalDayHeader" align="center" abbr="五" scope="col">五</th>
        <th class="CalDayHeader" align="center" abbr="六" scope="col">六</th>
    </tr>
            <tr>
                            <td class="CalOtherMonthDay" align="center">29</td>
                            <td class="CalOtherMonthDay" align="center">30</td>
                            <td class="CalOtherMonthDay" align="center">31</td>
                        <td class="" align="center">
                            1
                        </td>
                        <td class="CalTodayDay" align="center">
                            2
                        </td>
                        <td class="" align="center">
                            3
                        </td>
                    <td class="CalWeekendDay" align="center">
                        4
                    </td>
            </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            5
                        </td>
                            <td class="" align="center">
                                6
                            </td>
                            <td class="" align="center">
                                7
                            </td>
                            <td class="" align="center">
                                8
                            </td>
                            <td class="" align="center">
                                9
                            </td>
                            <td class="" align="center">
                                10
                            </td>
                        <td class="CalWeekendDay" align="center">
                            11
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            12
                        </td>
                            <td class="" align="center">
                                13
                            </td>
                            <td class="" align="center">
                                14
                            </td>
                            <td class="" align="center">
                                15
                            </td>
                            <td class="" align="center">
                                16
                            </td>
                            <td class="" align="center">
                                17
                            </td>
                        <td class="CalWeekendDay" align="center">
                            18
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            19
                        </td>
                            <td class="" align="center">
                                20
                            </td>
                            <td class="" align="center">
                                21
                            </td>
                            <td class="" align="center">
                                22
                            </td>
                            <td class="" align="center">
                                23
                            </td>
                            <td class="" align="center">
                                24
                            </td>
                        <td class="CalWeekendDay" align="center">
                            25
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            26
                        </td>
                            <td class="" align="center">
                                27
                            </td>
                            <td class="" align="center">
                                28
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                1
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                2
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                3
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            4
                        </td>
                </tr>
                <tr>
                        <td class="CalOtherMonthDay" align="center">
                            5
                        </td>
                            <td class="CalOtherMonthDay" align="center">
                                6
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                7
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                8
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                9
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                10
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            11
                        </td>
                </tr>
    </tbody>
</table></div><script>loadBlogDefaultCalendar();</script>
		<h3>统计</h3>
<ul>
	<li>随笔 - 37</li>
	<li>文章 - 0</li>
	<li>评论 - 5</li>
	<li>阅读 - 
<span title="总阅读数: 65936">
65936</span></li>
 </ul>


		<div id="blog-sidecolumn"><!-- 搜索 -->
<div id="sidebar_search" class="sidebar-block">
    <div id="sidebar_search" class="mySearch">
        <h3 class="catListTitle">搜索</h3>
        <div id="sidebar_search_box">
            <div id="widget_my_zzk" class="div_my_zzk">
                <input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk">
            </div>
            <div id="widget_my_google" class="div_my_zzk">
                <input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk">
            </div>
        </div>
    </div>
</div>

<!-- 常用链接 -->
<div id="sidebar_shortcut" class="sidebar-block">
<h3 class="catListTitle">
常用链接
</h3>
<ul>
    <li><a href="https://www.cnblogs.com/jicanghai/p/" title="我的博客的随笔列表">我的随笔</a></li>
<li><a href="https://www.cnblogs.com/jicanghai/MyComments.html" title="我的发表过的评论列表">我的评论</a></li>
<li><a href="https://www.cnblogs.com/jicanghai/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li>
<li><a href="https://www.cnblogs.com/jicanghai/comments" title="我的博客的评论列表">最新评论</a></li>
<li><a href="https://www.cnblogs.com/jicanghai/tag/" title="我的博客的标签列表">我的标签</a></li>

</ul>
</div>

<!-- 最新随笔 -->


<!-- 我的标签 -->
<div id="sidebar_toptags" class="sidebar-block"><h3><a href="https://www.cnblogs.com/jicanghai/tag/" class="sidebar-card-title-a">我的标签</a></h3>
<div id="MyTag">
    <ul>
                <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/tensorflow/">tensorflow<span class="tag-count">(23)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/Spark/">Spark<span class="tag-count">(4)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习<span class="tag-count">(3)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/Caffe2/">Caffe2<span class="tag-count">(2)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/pytorch/">pytorch<span class="tag-count">(2)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习<span class="tag-count">(1)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/RBM/">RBM<span class="tag-count">(1)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">架构设计<span class="tag-count">(1)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/breeze/">breeze<span class="tag-count">(1)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/jicanghai/tag/C%2B%2B/">C++<span class="tag-count">(1)</span></a>
        </li>
    <li>
        <a href="https://www.cnblogs.com/jicanghai/tag/">更多</a>
    </li>

    </ul>
</div>
</div>

<!-- 积分与排名 -->


<!-- 随笔分类、随笔档案、文章分类、新闻分类、相册、链接 -->
<div id="sidebar_categories">

    <h3>
        
    <a class="sidebar-card-title-a" href="https://www.cnblogs.com/jicanghai/categories">随笔分类</a>



    </h3>
    <ul>
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/category/814940.html" class="category-item-link" rel="" target="">大数据处理(4)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/category/758461.html" class="category-item-link" rel="" target="">机器学习(7)</a>
 
            </li>            
        
    </ul>
    <h3>
        
随笔档案


    </h3>
    <ul>
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2019/01.html" class="category-item-link" rel="" target="">2019年1月(1)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/12.html" class="category-item-link" rel="" target="">2018年12月(1)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/10.html" class="category-item-link" rel="" target="">2018年10月(1)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/09.html" class="category-item-link" rel="" target="">2018年9月(14)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/08.html" class="category-item-link" rel="" target="">2018年8月(12)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/07.html" class="category-item-link" rel="" target="">2018年7月(1)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/04.html" class="category-item-link" rel="" target="">2018年4月(2)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2018/03.html" class="category-item-link" rel="" target="">2018年3月(3)</a>
 
            </li>            
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/archive/2016/03.html" class="category-item-link" rel="" target="">2016年3月(2)</a>
 
            </li>            
        
    </ul>
    <h3>
        
相册


    </h3>
    <ul>
            <li data-category-list-item-visible="true" style="display: block">
                
<a href="https://www.cnblogs.com/jicanghai/gallery/1303889.html" class="category-item-link" rel="nofollow noopener noreferrer" target="">tensorflow_control_flow(9)</a>
 
            </li>            
        
    </ul>
</div>

<!-- 最新评论 -->
<!-- 阅读排行榜 -->
<div id="sidebar_topviewedposts" class="sidebar-block">
<div id="topview_posts_wrap">
    <h3 class="catListTitle">
        <a href="https://www.cnblogs.com/jicanghai/most-viewed" class="sidebar-card-title-a">
    阅读排行榜
</a>

    </h3>
    <div id="TopViewPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9545674.html">
                            1. tensorflow源码剖析之framework-kernel(5508)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9535504.html">
                            2. tensorflow源码解析之framework-resource(4025)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9537282.html">
                            3. tensorflow源码解析之framework-tensor(3020)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9539513.html">
                            4. tensorflow源码解析之framework-op(2968)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9672310.html">
                            5. Control Flow in Tensorflow TF中的控制流解析(2878)
                        </a>
                    </li>
        </ul>
    </div>
</div></div>

<!-- 评论排行榜 -->
<div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
    <h3 class="catListTitle">
        <a href="https://www.cnblogs.com/jicanghai/most-commented" class="sidebar-card-title-a">评论排行榜</a>

    </h3>
    <div id="TopFeedbackPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9552490.html">
                            1. tensorflow源码解析之framework-shape_inference(2)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9572213.html">
                            2. tensorflow源码解析之common_runtime-executor-上(1)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/9569294.html">
                            3. tensorflow源码解析之common_runtime-session(1)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/jicanghai/p/5299209.html">
                            4. RBM如何训练？(1)
                        </a>
                    </li>
        </ul>
    </div>
</div></div>

<!-- 推荐排行榜 -->
<div id="sidebar_topdiggedposts" class="sidebar-block">
<div id="topdigg_posts_wrap">
    <div class="catListView">
        <h3 class="catListTitle">
            <a href="https://www.cnblogs.com/jicanghai/most-liked" class="sidebar-card-title-a">推荐排行榜</a>

        </h3>
        <div id="TopDiggPostsBlock">
            <ul style="word-break: break-all">
                        <li>
                            <a href="https://www.cnblogs.com/jicanghai/p/9691621.html">
                                1. Caffe2源码解析(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/jicanghai/p/9689726.html">
                                2. Caffe2源码解析之core(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/jicanghai/p/9672310.html">
                                3. Control Flow in Tensorflow TF中的控制流解析(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/jicanghai/p/9638201.html">
                                4. tensorflow源码解析之framework拾遗(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/jicanghai/p/9589412.html">
                                5. tensorflow源码解析系列文章索引(1)
                            </a>
                        </li>
            </ul>
        </div>
    </div>
</div></div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap" class="RecentComment">
    <h3 class="catListTitle"><a href="https://www.cnblogs.com/jicanghai/comments" class="sidebar-card-title-a">最新评论</a></h3>    
    <div class="RecentCommentBlock">
        <ul>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/jicanghai/p/9569294.html">1. Re:tensorflow源码解析之common_runtime-session</a></li>
                <li class="recent_comment_body">不错的系列文章。 提2个点： PRun更准确地说应该是分步骤运行，参考： Run本身也不是运行整张图，而是output决定的子图。...</li>
                <li class="recent_comment_author">--alionkun</li>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/jicanghai/p/9552490.html">2. Re:tensorflow源码解析之framework-shape_inference</a></li>
                <li class="recent_comment_body"><p>Dimension, DimensionHandle, DimensionOrConstant 这三个为什么不合成一个, 感觉有点自找麻烦呢?</p>
</li>
                <li class="recent_comment_author">--venuswuu</li>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/jicanghai/p/9552490.html">3. Re:tensorflow源码解析之framework-shape_inference</a></li>
                <li class="recent_comment_body"><p>想问下, 为什么需要DimensionHandle和ShapeHandle这样的类? 为什么不直接用Dimension和Shape??</p>
</li>
                <li class="recent_comment_author">--venuswuu</li>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/jicanghai/p/9572213.html">4. Re:tensorflow源码解析之common_runtime-executor-上</a></li>
                <li class="recent_comment_body"><p>int output_slot:31;<br>
bool is_last:1;<br>
这种定义形式是c语言支持的，和c++11没有关系</p>
</li>
                <li class="recent_comment_author">--暗里着迷GIS</li>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/jicanghai/p/5299209.html">5. Re:RBM如何训练？</a></li>
                <li class="recent_comment_body">请问一下 那个v' = N(c+h*w') 怎么计算啊？ 不是代入到其高斯分布的概率密度函数中么？ 网上搜索有说的高斯采样 计算出的均值加上标准正态分布， 到底是哪样？ 请作者解惑...</li>
                <li class="recent_comment_author">--小林子_faith</li>
        </ul>
    </div>
</div></div>


</div>
                    <script>loadBlogSideColumn();</script>
		<div id="footer">
	Powered by: 
	<br>
	<a href="https://www.cnblogs.com/" id="footer_site_link">博客园</a>
	<br>
	Copyright © 2023 jicanghai
<br><span id="poweredby">Powered by .NET 7.0 on Kubernetes</span>

</div>


	
</div>			
			
	





<input type="hidden" id="antiforgery_token" value="CfDJ8GXQNXLgcs5PrnWvMs4xAGOAGc0zqbmz1JTW4rkZBYn6RadvDltumFSi0t_xqALM_aTENWyAA-XsFW5nICOgexD2pqbrKyXRaG8s8sSyzT8VIAUHzMXTlVz2rARqt3UTCUA-b0Y0CWutC9DsBl-O3Ws">
<script async="" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    var kv = getGACustom();
    if (kv) {
        gtag('set', kv);
    }
    gtag('config', 'UA-476124-1');
</script>
<script defer="" src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/hm.js"></script><iframe src="./tensorflow源码解析之framework-device - jicanghai - 博客园_files/container.html" style="visibility: hidden; display: none;"></iframe>

<div class="mermaidTooltip" style="opacity: 0;"></div></body></html>